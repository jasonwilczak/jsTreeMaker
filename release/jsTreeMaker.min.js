"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},jsTreeMaker=function(){function t(t){f(u,t),u.Container.setAttribute("id","0"),h(u.TreeViewData)}function e(){return a}function n(){return JSON.stringify(a)}function i(t){u.Container.innerHTML="",h(t)}var r,a,o="displayFor",l="new",d="parent",c=0,u={PlaceListActionsAfterText:!0,MainListId:0,Container:document.getElementsByTagName("body")[0],ActionItemOptions:{Remove:{Display:"[-]",Title:"Click to Remove",Callback:function(){},IsAllowed:!0,Id:"actionItemRemove",DefaultDisplay:""},Add:{Display:"[+]",Title:"Click to Add A Child",Callback:function(){},IsAllowed:!0,Id:"actionItemAdd",DefaultDisplay:""},Edit:{Display:"[‚úè]",Title:"Click to Edit Text",Callback:function(){},IsAllowed:!0,Id:"actionItemEdit",DefaultDisplay:"none"},Collapse:{Display:"[^]",Title:"Click to Collapse",Callback:function(){},DefaultDisplay:""},Expand:{Display:"[*]",Title:"Click to Expand",Callback:function(){},DefaultDisplay:""}},TreeViewData:[]},s=function g(t){var e=t||[];t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&!Array.isArray(t)&&(p(t),e=t.Children);for(var n=0;n<e.length;n++)g(e[n])},p=function(t){var e=y(d,t.ParentId),n=document.getElementById(e);n||(n=document.createElement("ul"),n.setAttribute("id",e),document.getElementById(t.ParentId).appendChild(n));var i=document.createElement("li");i.setAttribute("id",t.Id);var a=document.createElement("span");a.innerHTML=t.Display,a.setAttribute("id",y(o,t.Id)),a.onclick=function(t){var e=t.currentTarget.parentElement;if(r){var n=document.getElementById(y(o,r.getAttribute("id")));n.style.color="black"}r=r&&r.getAttribute("id")==e.getAttribute("id")?void 0:e,r&&(t.currentTarget.style.color="green");var i=r?"":"none";document.getElementById(u.ActionItemOptions.Edit.Id).style.display=i},u.PlaceListActionsAfterText?(i.appendChild(a),m(i,!1,!1,!1)):(m(i,!1,!1,!1),i.appendChild(a)),n.appendChild(i)},f=function E(t,e){for(var n in e)try{e[n].constructor==Object?t[n]=E(t[n],e[n]):t[n]=e[n]}catch(i){t[n]=e[n]}return t},y=function(t,e){return t+e},m=function(t,e,n,i){var a=document.createElement("span"),o=t.getAttribute("id");a.appendChild(I("Collapse",function(t){var e=document.getElementById(y(d,o));if(e){var n="",i="Collapse";"none"!==e.style.display&&(n="none",i="Expand");var r=u.ActionItemOptions[i];t.setAttribute("title",r.Title),t.innerHTML=r.Display,e.style.display=n}}));var s=void 0!==n?n:u.ActionItemOptions.Remove.IsAllowed;s&&a.appendChild(I("Remove",function(){var e=r||t;o=e.getAttribute("id"),confirm("Are you sure you want to delete this and all its children...?")&&(A({Id:o}),e.parentNode.removeChild(e))}));var f=void 0!==e?e:u.ActionItemOptions.Add.IsAllowed;f&&a.appendChild(I("Add",function(){var e=r||t;o=e.getAttribute("id");var n=prompt("Enter display text:","");if(n){c++;var i={Display:n,Id:y(l,c),ParentId:o,Children:[]};p(i),v(i)}}));var m=void 0!==i?i:u.ActionItemOptions.Edit.IsAllowed;if(m){var b=I("Edit",function(){var e=r||t;C(e)});a.appendChild(b)}t.appendChild(a)},I=function(t,e){var n=u.ActionItemOptions[t],i=document.createElement("a"),r=document.createTextNode(n.Display);return i.appendChild(r),i.setAttribute("href","#"),i.setAttribute("title",n.Title),n.Id&&i.setAttribute("id",n.Id),i.onclick=function(){e(i),n.Callback(i)},i.style.display=n.DefaultDisplay,i},v=function(t){if(0==t.ParentId)return void a.push(t);var e=b({Id:t.ParentId},a);e&&e[D(t.ParentId,e)].Children.push(t)},A=function(t){var e=b(t,a);e&&e.splice(D(t.Id,e,1))},C=function(t){var e={Id:t.getAttribute("id")},n=b(e,a),i=D(e.Id,n),r=prompt("Enter new text:",n[i].Display);n[i].Display=r;var l=document.getElementById(y(o,e.Id));l.innerHTML=r},b=function T(t,e){for(var n=0;n<e.length;n++){if(t.Id==e[n].Id)return e;var i=T(t,e[n].Children);if(i)return i}return null},D=function(t,e){for(var n=0;n<e.length;n++)if(e[n].Id==t)return n},h=function(t){m(u.Container),a=JSON.parse(JSON.stringify(t)),s(a)};return{Initialize:t,LoadTree:i,GetDataAsObject:e,GetDataAsJsonString:n}}();
//# sourceMappingURL=jsTreeMaker.min.js.map
